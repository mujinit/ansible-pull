- name: Add Google Chrome repository
  ansible.builtin.apt_key:
    url: https://dl.google.com/linux/linux_signing_key.pub
    state: present

- name: Add Google Chrome repository to apt sources
  ansible.builtin.apt_repository:
    repo: 'deb [arch=amd64] http://dl.google.com/linux/chrome/deb/ stable main'
    state: present

- name: Update apt cache
  ansible.builtin.apt:
    update_cache: yes

- name: Install or update Google Chrome
  ansible.builtin.apt:
    name: google-chrome-stable
    state: latest

- name: Ensure Chrome is regularly updated via cron job
  ansible.builtin.cron:
    name: "Regular Chrome Update"
    minute: "0"
    hour: "2"
    job: "/usr/bin/ansible-playbook /path/to/update_chrome.yml"
